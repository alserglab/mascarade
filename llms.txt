# mascarade

`mascarade` package implements a procedure to automatically generate 2D
masks for clusters on single-cell dimensional reduction plots like t-SNE
or UMAP.

See the
[tutorial](https://alserglab.github.io/mascarade/articles/mascarade-tutorial.html)
for usage details and
[gallery](https://alserglab.github.io/mascarade/articles/mascarade-gallery.html)
for examples on different datasets.

## Installation

The package can be installed from GitHub:

``` r
remotes::install_github("alserglab/mascarade")
```

## Quick run

Loading necessary libraries:

``` r
library(mascarade)
library(ggplot2)
library(data.table)
library(Seurat)
```

Loading get the example PBMC3K dataset:

``` r
pbmc3k <- readRDS(url("https://alserglab.wustl.edu/files/mascarade/examples/pbmc3k_seurat5.rds"))
pbmc3k <- NormalizeData(pbmc3k)
pbmc3k
```

``` R
## An object of class Seurat 
## 13714 features across 2638 samples within 1 assay 
## Active assay: RNA (13714 features, 2000 variable features)
##  2 layers present: counts, data
##  2 dimensional reductions calculated: pca, umap
```

Generating masks:

``` r
maskTable <- generateMaskSeurat(pbmc3k)
```

`DimPlot` with the mask and labels:

``` r
DimPlot(pbmc3k) + NoLegend() +
    fancyMask(maskTable, ratio=1)
```

![](https://alserglab.github.io/mascarade/articles/mascarade-tutorial_files/figure-html/seurat-dimplot-1.png)

`DimPlot` with the just the labels

``` r
DimPlot(pbmc3k) + NoLegend() +
    fancyMask(maskTable, linewidth=0, ratio=1)
```

![](https://alserglab.github.io/mascarade/articles/mascarade-tutorial_files/figure-html/seurat-dimplot-noborder-1.png)

`FeaturePlot` with the mask and labels showing GNLY gene being specific
to NK cells:

``` r
FeaturePlot(pbmc3k, "GNLY", cols=c("grey90", "red")) +
    fancyMask(maskTable, ratio=1)
```

![](https://alserglab.github.io/mascarade/articles/mascarade-tutorial_files/figure-html/seurat-gnly-1.png)

# Package index

## All functions

- [`exampleMascarade`](https://alserglab.github.io/mascarade/reference/exampleMascarade.md)
  : Example data with UMAP points from PBMC3K dataset.

- [`fancyMask()`](https://alserglab.github.io/mascarade/reference/fancyMask.md)
  : Generate ggplot2 layers for a labeled cluster mask

- [`generateMask()`](https://alserglab.github.io/mascarade/reference/generateMask.md)
  : Generate mask for clusters on 2D dimensional reduction plots

- [`generateMaskSeurat()`](https://alserglab.github.io/mascarade/reference/generateMaskSeurat.md)
  :

  Generates mask from a Seurat object. Requires `SeuratObject` package.

- [`geom_mark_shape()`](https://alserglab.github.io/mascarade/reference/geom_mark_shape.md)
  : Annotate areas with polygonal shapes

# Articles

### All vignettes

- [Gallery of mascarade-generaded
  masks](https://alserglab.github.io/mascarade/articles/mascarade-gallery.md):
- [Using mascarade
  package](https://alserglab.github.io/mascarade/articles/mascarade-tutorial.md):
